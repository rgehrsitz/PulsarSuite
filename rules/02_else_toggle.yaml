version: 3

rules:
  - name: DoorOpenFlag
    conditions:
      all:
        - type: comparison
          sensor: DoorSwitch
          operator: "=="
          value: true
    actions:
      - set: { key: door_open, value_expression: true }
      - log: { log: "ðŸšª Door opened", emit: on_change }
    else:
      actions:
        - set: { key: door_open, value_expression: false }
        - log: { log: "ðŸ”’ Door closed", emit: on_change }