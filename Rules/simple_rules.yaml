# Simple test rules

rules:
  - name: HighTemperatureRule
    description: Detects when temperature exceeds threshold
    conditions:
      all:
        - condition:
            type: comparison
            sensor: input:temperature
            operator: '>'
            value: 25
    actions:
      - set_value:
          key: output:high_temperature
          value: true

  - name: HumidityRule
    description: Checks if humidity is within normal range
    conditions:
      all:
        - condition:
            type: comparison
            sensor: input:humidity
            operator: '>'
            value: 30
        - condition:
            type: comparison
            sensor: input:humidity
            operator: '<'
            value: 70
    actions:
      - set_value:
          key: output:humidity_normal
          value: true

  - name: ComfortIndexRule
    description: Calculates a basic comfort index from temperature and humidity
    conditions:
      all:
        - condition:
            type: comparison
            sensor: input:temperature
            operator: '>'
            value: 0
        - condition:
            type: comparison
            sensor: input:humidity
            operator: '>'
            value: 0
    actions:
      - set_value:
          key: output:comfort_index
          value_expression: "input:temperature * 0.8 + input:humidity * 0.2"